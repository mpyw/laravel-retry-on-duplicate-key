<?php

namespace Illuminate\Database\Connectors
{
    $file = file_get_contents(__DIR__ . '/../vendor/laravel/framework/src/Illuminate/Database/Connectors/SqlServerConnector.php');
    eval('?>' . str_replace('class SqlServerConnector', 'class __OriginalConnector__', $file));

    class SqlServerConnector extends __OriginalConnector__
    {
        /**
         * Establish a database connection.
         *
         * @param  array  $config
         * @return \PDO
         */
        public function connect(array $config)
        {
            $options = $this->getOptions($config);

            dump('Before connection creation');
            dump($this->getDsn($config));
            dump($this->getOptions($config));

            $conn = $this->createConnection($this->getDsn($config), $config, $options);

            dump('After connection creation');
            dump($conn);

            return $conn;
        }
    }
}
